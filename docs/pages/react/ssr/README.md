---
home: false
---
## SSR 相关
### 技术文档列表
* [架构降级](./fallback-operation)  <span style="color:#bbb; float:right">2024-05-10</span>
* [性能优化](./performance-optimization)  <span style="color:#bbb; float:right">2024-02-10</span>
* [流式渲染](./stream)  <span style="color:#bbb; float:right">2024-02-10</span>

### 服务端组件和 SSR 有哪些不同
::: tip
在使用 SSR 时，你需要先在服务端完成 HTML 的渲染，然后再将该 HTML 发送到客户端。然后此过程只会发生在页面的初次访问时（也就是初始化加载的时候）。至此之后，你的 React 应用在数据更新展示等行为表现上和常规的 React 应用没有任何区别。在展示更新之后的数据时，都是要么从客户端发送一个网络请求，要么页面整体刷新，但不管采用哪种方式，都会导致组件的二次渲染和状态丢失，从而影响性能和客户体验。
相对而言，在使用服务端组件时，你的组件在服务端完成渲染，然后通过自定义的协议发送到客户端（如下图）。React 拿到数据时，将新的 UI 整体的合并到客户端 UI 树里面，此过程不会对客户端其他状态产生影响。此过程可以无限次数的执行。React 通过整体 UI 模块更新的方式，达到保持客户端状态的目的，极大的增强了用户体验。
:::

### next.js 水合失败的原因
- HTML 元素错误嵌套导致
- 变量在服务端和客户端的取值不一致渲染了不同的html。
- 组件涉及倒计时和时间戳相关的要格外留意，可以统一使用服务端时间或者服务端不渲染。
- 时区不匹配，服务器上创建一个日期与客户端的不匹配。
- 还有随机key，有些弹窗会配置随机key 由 uuid生成
